!function(e){var n,t,c,a,i=function(e,n,t,c){var a=document.createElement("span");a.className="message",a.innerText=t;var i=document.createElement("span");i.className="timestamp",i.innerText=c+": ";var o=document.createElement("div");return o.id=e,o.appendChild(i),o.appendChild(a),o},o=function(e){if(!document.getElementById(e.id)){var n=i(e.id,e.sender_name,e.message,e.timestamp);t.appendChild(n)}},r=function(){n.on("connect",function(){n.emit("fetch_all_broadcasts",function(e){for(var n=0;n<e.length;n++)o(e[n])}),n.on("receive_message",function(e){o(e)})})},s=function(){a.onclick=function(){e.broadcast()}},d=function(e){n.emit("send_message",e)};e.broadcast=function(){var e=c.value;d(e)},e.broadcastWithMessage=function(e){d(e)},e.init=function(e,i,o,d){n=io.connect(e),t=document.querySelector(i),c=document.querySelector(o),a=document.querySelector(a),a&&s(),r()}}(this.BroadcastClient={});